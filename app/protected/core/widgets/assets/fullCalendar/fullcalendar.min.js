/*!
 * FullCalendar v1.6.4
 * Docs & License: http://arshaw.com/fullcalendar/
 * (c) 2013 Adam Shaw
 */
(function(at,v){var M={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,weekNumbers:false,weekNumberCalculation:"iso",weekNumberTitle:"W",allDayDefault:true,ignoreTimezone:true,lazyFetching:true,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:false,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"<span class='fc-text-arrow'>&lsaquo;</span>",next:"<span class='fc-text-arrow'>&rsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&laquo;</span>",nextYear:"<span class='fc-text-arrow'>&raquo;</span>",today:"today",month:"month",week:"week",day:"day"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:true,dropAccept:"*",handleWindowResize:true};var R={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"<span class='fc-text-arrow'>&rsaquo;</span>",next:"<span class='fc-text-arrow'>&lsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&raquo;</span>",nextYear:"<span class='fc-text-arrow'>&laquo;</span>"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}};var aB=at.fullCalendar={version:"1.6.4"};var ae=aB.views={};at.fn.fullCalendar=function(aN){if(typeof aN=="string"){var aM=Array.prototype.slice.call(arguments,1);var aO;this.each(function(){var aQ=at.data(this,"fullCalendar");if(aQ&&at.isFunction(aQ[aN])){var aP=aQ[aN].apply(aQ,aM);if(aO===v){aO=aP}if(aN=="destroy"){at.removeData(this,"fullCalendar")}}});if(aO!==v){return aO}return this}aN=aN||{};var aL=aN.eventSources||[];delete aN.eventSources;if(aN.events){aL.push(aN.events);delete aN.events}aN=at.extend(true,{},M,(aN.isRTL||aN.isRTL===v&&M.isRTL)?R:{},aN);this.each(function(aR,aP){var aQ=at(aP);var aS=new t(aQ,aN,aL);aQ.data("fullCalendar",aS);aS.render()});return this};function ai(aL){at.extend(true,M,aL)}function t(a5,bc,bf){var by=this;by.options=bc;by.render=bn;by.destroy=bA;by.refetchEvents=a0;by.reportEvents=a2;by.reportEventChange=bC;by.rerenderEvents=aO;by.changeView=aW;by.select=bz;by.unselect=aX;by.prev=bj;by.next=aN;by.prevYear=bB;by.nextYear=aM;by.today=a6;by.gotoDate=bm;by.incrementDate=a9;by.formatDate=function(bI,bH){return C(bI,bH,bc)};by.formatDates=function(bJ,bI,bH){return k(bJ,bI,bH,bc)};by.getDate=ba;by.getView=bg;by.option=bv;by.trigger=bl;s.call(by,bc,bf);var aL=by.isFetchNeeded;var bF=by.fetchEvents;var bw=a5[0];var aQ;var bo;var aZ;var bG;var aY;var bk;var aT;var bp=0;var bx=0;var bD=new Date();var be=[];var aR;z(bD,bc.year,bc.month,bc.date);function bn(bH){if(!aZ){bd()}else{if(bt()){bq();bE(bH)}}}function bd(){bG=bc.theme?"ui":"fc";a5.addClass("fc");if(bc.isRTL){a5.addClass("fc-rtl")}else{a5.addClass("fc-ltr")}if(bc.theme){a5.addClass("ui-widget")}aZ=at("<div class='fc-content' style='position:relative'/>").prependTo(a5);aQ=new S(by,bc);bo=aQ.render();if(bo){a5.prepend(bo)}aW(bc.defaultView);if(bc.handleWindowResize){at(window).resize(a1)}if(!a4()){aV()}}function aV(){setTimeout(function(){if(!aY.start&&a4()){bb()}},0)}function bA(){if(aY){bl("viewDestroy",aY,aY,aY.element);aY.triggerEventDestroy()}at(window).unbind("resize",a1);aQ.destroy();aZ.remove();a5.removeClass("fc fc-rtl ui-widget")}function bt(){return a5.is(":visible")}function a4(){return at("body").is(":visible")}function aW(bH){if(!aY||bH!=aY.name){br(bH)}}function br(bH){bx++;if(aY){bl("viewDestroy",aY,aY,aY.element);aX();aY.triggerEventDestroy();aP();aY.element.remove();aQ.deactivateButton(aY.name)}aQ.activateButton(bH);aY=new ae[bH](at("<div class='fc-view fc-view-"+bH+"' style='position:relative'/>").appendTo(aZ),by);bb();a3();bx--}function bb(bH){if(!aY.start||bH||bD<aY.start||bD>=aY.end){if(bt()){bE(bH)}}}function bE(bH){bx++;if(aY.start){bl("viewDestroy",aY,aY,aY.element);aX();bh()}aP();aY.render(bD,bH||0);bu();a3();(aY.afterRender||aq)();a7();bi();bl("viewRender",aY,aY,aY.element);aY.trigger("viewDisplay",bw);bx--;aU()}function a8(){if(bt()){aX();bh();bq();bu();aS()}}function bq(){if(bc.contentHeight){aT=bc.contentHeight}else{if(bc.height){aT=bc.height-(bo?bo.height():0)-G(aZ)}else{aT=Math.round(aZ.width()/Math.max(bc.aspectRatio,0.5))}}}function bu(){if(aT===v){bq()}bx++;aY.setHeight(aT);aY.setWidth(aZ.width());bx--;bk=a5.outerWidth()}function a1(){if(!bx){if(aY.start){var bH=++bp;setTimeout(function(){if(bH==bp&&!bx&&bt()){if(bk!=(bk=a5.outerWidth())){bx++;a8();aY.trigger("windowResize",bw);bx--}}},200)}else{aV()}}}function a0(){bh();bs()}function aO(bH){bh();aS(bH)}function aS(bH){if(bt()){aY.setEventData(be);aY.renderEvents(be,bH);aY.trigger("eventAfterAllRender")}}function bh(){aY.triggerEventDestroy();aY.clearEvents();aY.clearEventData()}function aU(){if(!bc.lazyFetching||aL(aY.visStart,aY.visEnd)){bs()}else{aS()}}function bs(){bF(aY.visStart,aY.visEnd)}function a2(bH){be=bH;aS()}function bC(bH){aO(bH)}function a7(){aQ.updateTitle(aY.title)}function bi(){var bH=new Date();if(bH>=aY.start&&bH<aY.end){aQ.disableButton("today")}else{aQ.enableButton("today")}}function bz(bJ,bH,bI){aY.select(bJ,bH,bI===v?true:bI)}function aX(){if(aY){aY.unselect()}}function bj(){bb(-1)}function aN(){bb(1)}function bB(){ah(bD,-1);bb()}function aM(){ah(bD,1);bb()}function a6(){bD=new Date();bb()}function bm(bI,bJ,bH){if(bI instanceof Date){bD=N(bI)}else{z(bD,bI,bJ,bH)}bb()}function a9(bI,bH,bJ){if(bI!==v){ah(bD,bI)}if(bH!==v){p(bD,bH)}if(bJ!==v){aD(bD,bJ)}bb()}function ba(){return N(bD)}function aP(){aZ.css({width:"100%",height:aZ.height(),overflow:"hidden"})}function a3(){aZ.css({width:"",height:"",overflow:""})}function bg(){return aY}function bv(bH,bI){if(bI===v){return bc[bH]}if(bH=="height"||bH=="contentHeight"||bH=="aspectRatio"){bc[bH]=bI;a8()}}function bl(bH,bI){if(bc[bH]){return bc[bH].apply(bI||bw,Array.prototype.slice.call(arguments,2))}}if(bc.droppable){at(document).bind("dragstart",function(bJ,bK){var bH=bJ.target;var bL=at(bH);if(!bL.parents(".fc").length){var bI=bc.dropAccept;if(at.isFunction(bI)?bI.call(bH,bL):bL.is(bI)){aR=bH;aY.dragStart(aR,bJ,bK)}}}).bind("dragstop",function(bH,bI){if(aR){aY.dragStop(aR,bH,bI);aR=null}})}}function S(aO,aX){var aW=this;aW.render=aM;aW.destroy=aS;aW.updateTitle=aQ;aW.activateButton=aL;aW.deactivateButton=aU;aW.disableButton=aN;aW.enableButton=aR;var aP=at([]);var aT;function aM(){aT=aX.theme?"ui":"fc";var aY=aX.header;if(aY){aP=at("<table class='fc-header' style='width:100%'/>").append(at("<tr/>").append(aV("left")).append(aV("center")).append(aV("right")));return aP}}function aS(){aP.remove()}function aV(aY){var a0=at("<td class='fc-header-"+aY+"'/>");var aZ=aX.header[aY];if(aZ){at.each(aZ.split(" "),function(a2){if(a2>0){a0.append("<span class='fc-header-space'/>")}var a1;at.each(this.split(","),function(a5,a4){if(a4=="title"){a0.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>");if(a1){a1.addClass(aT+"-corner-right")}a1=null}else{var a3;if(aO[a4]){a3=aO[a4]}else{if(ae[a4]){a3=function(){a6.removeClass(aT+"-state-hover");aO.changeView(a4)}}}if(a3){var a7=aX.theme?F(aX.buttonIcons,a4):null;var a8=F(aX.buttonText,a4);var a6=at("<span class='fc-button fc-button-"+a4+" "+aT+"-state-default'>"+(a7?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+a7+"'/></span>":a8)+"</span>").click(function(){if(!a6.hasClass(aT+"-state-disabled")){a3()}}).mousedown(function(){a6.not("."+aT+"-state-active").not("."+aT+"-state-disabled").addClass(aT+"-state-down")}).mouseup(function(){a6.removeClass(aT+"-state-down")}).hover(function(){a6.not("."+aT+"-state-active").not("."+aT+"-state-disabled").addClass(aT+"-state-hover")},function(){a6.removeClass(aT+"-state-hover").removeClass(aT+"-state-down")}).appendTo(a0);aK(a6);if(!a1){a6.addClass(aT+"-corner-left")}a1=a6}}});if(a1){a1.addClass(aT+"-corner-right")}})}return a0}function aQ(aY){aP.find("h2").html(aY)}function aL(aY){aP.find("span.fc-button-"+aY).addClass(aT+"-state-active")}function aU(aY){aP.find("span.fc-button-"+aY).removeClass(aT+"-state-active")}function aN(aY){aP.find("span.fc-button-"+aY).addClass(aT+"-state-disabled")}function aR(aY){aP.find("span.fc-button-"+aY).removeClass(aT+"-state-disabled")}}aB.sourceNormalizers=[];aB.sourceFetchers=[];var n={dataType:"json",cache:false};var V=1;function s(aR,aZ){var a1=this;a1.isFetchNeeded=aT;a1.fetchEvents=a0;a1.addEventSource=aO;a1.removeEventSource=aP;a1.updateEvent=a5;a1.renderEvent=aX;a1.removeEvents=bh;a1.clientEvents=bb;a1.normalizeEvent=aW;a1.removeEventSources=a3;var a4=a1.trigger;var aL=a1.getView;var a7=a1.reportEvents;var a9={events:[]};var aM=[a9];var be,ba;var aN=0;var bf=0;var bd=0;var a2=[];for(var bc=0;bc<aZ.length;bc++){a6(aZ[bc])}function aT(bj,bi){return !be||bj<be||bi>ba}function a0(bm,bj){be=bm;ba=bj;a2=[];var bl=++aN;var bi=aM.length;bf=bi;for(var bk=0;bk<bi;bk++){aS(aM[bk],bl)}}function aS(bj,bi){a8(bj,function(bl){if(bi==aN){if(bl){if(aR.eventDataTransform){bl=at.map(bl,aR.eventDataTransform)}if(bj.eventDataTransform){bl=at.map(bl,bj.eventDataTransform)}for(var bk=0;bk<bl.length;bk++){bl[bk].source=bj;aW(bl[bk])}a2=a2.concat(bl)}bf--;if(!bf){a7(a2)}}})}function a8(bi,bs){var bn;var br=aB.sourceFetchers;var bp;for(bn=0;bn<br.length;bn++){bp=br[bn](bi,be,ba,bs);if(bp===true){return}else{if(typeof bp=="object"){a8(bp,bs);return}}}var bu=bi.events;if(bu){if(at.isFunction(bu)){aV();bu(N(be),N(ba),function(bw){bs(bw);bg()})}else{if(at.isArray(bu)){bs(bu)}else{bs()}}}else{var bj=bi.url;if(bj){var bt=bi.success;var bq=bi.error;var bk=bi.complete;var bv;if(at.isFunction(bi.data)){bv=bi.data()}else{bv=bi.data}var bm=at.extend({},bv||{});var bo=aI(bi.startParam,aR.startParam);var bl=aI(bi.endParam,aR.endParam);if(bo){bm[bo]=Math.round(+be/1000)}if(bl){bm[bl]=Math.round(+ba/1000)}aV();at.ajax(at.extend({},n,bi,{data:bm,success:function(bx){bx=bx||[];var bw=I(bt,this,arguments);if(at.isArray(bw)){bx=bw}bs(bx)},error:function(){I(bq,this,arguments);bs()},complete:function(){I(bk,this,arguments);bg()}}))}else{bs()}}}function aO(bi){bi=a6(bi);if(bi){bf++;aS(bi,aN)}}function a6(bi){if(at.isFunction(bi)||at.isArray(bi)){bi={events:bi}}else{if(typeof bi=="string"){bi={url:bi}}}if(typeof bi=="object"){aY(bi);aM.push(bi);return bi}}function aP(bi){aM=at.grep(aM,function(bj){return !aU(bj,bi)});a2=at.grep(a2,function(bj){return !aU(bj.source,bi)});a7(a2)}function a3(){aM=[];a2=[];a7(a2)}function a5(bn){var bl,bj=a2.length,bo,bi=aL().defaultEventEnd,bm=bn.start-bn._start,bk=bn.end?(bn.end-(bn._end||bi(bn))):0;for(bl=0;bl<bj;bl++){bo=a2[bl];if(bo._id==bn._id&&bo!=bn){bo.start=new Date(+bo.start+bm);if(bn.end){if(bo.end){bo.end=new Date(+bo.end+bk)}else{bo.end=new Date(+bi(bo)+bk)}}else{bo.end=null}bo.title=bn.title;bo.url=bn.url;bo.allDay=bn.allDay;bo.className=bn.className;bo.editable=bn.editable;bo.color=bn.color;bo.backgroundColor=bn.backgroundColor;bo.borderColor=bn.borderColor;bo.textColor=bn.textColor;aW(bo)}}aW(bn);a7(a2)}function aX(bj,bi){aW(bj);if(!bj.source){if(bi){a9.events.push(bj);bj.source=a9}a2.push(bj)}a7(a2)}function bh(bj){if(!bj){a2=[];for(var bi=0;bi<aM.length;bi++){if(at.isArray(aM[bi].events)){aM[bi].events=[]}}}else{if(!at.isFunction(bj)){var bk=bj+"";bj=function(bl){return bl._id==bk}}a2=at.grep(a2,bj,true);for(var bi=0;bi<aM.length;bi++){if(at.isArray(aM[bi].events)){aM[bi].events=at.grep(aM[bi].events,bj,true)}}}a7(a2)}function bb(bi){if(at.isFunction(bi)){return at.grep(a2,bi)}else{if(bi){bi+="";return at.grep(a2,function(bj){return bj._id==bi})}}return a2}function aV(){if(!bd++){a4("loading",null,true,aL())}}function bg(){if(!--bd){a4("loading",null,false,aL())}}function aW(bj){var bk=bj.source||{};var bi=aI(bk.ignoreTimezone,aR.ignoreTimezone);bj._id=bj._id||(bj.id===v?"_fc"+V++:bj.id+"");if(bj.date){if(!bj.start){bj.start=bj.date}delete bj.date}bj._start=N(bj.start=Z(bj.start,bi));bj.end=Z(bj.end,bi);if(bj.end&&bj.end<=bj.start){bj.end=null}bj._end=bj.end?N(bj.end):null;if(bj.allDay===v){bj.allDay=aI(bk.allDayDefault,aR.allDayDefault)}if(bj.className){if(typeof bj.className=="string"){bj.className=bj.className.split(/\s+/)}}else{bj.className=[]}}function aY(bk){if(bk.className){if(typeof bk.className=="string"){bk.className=bk.className.split(/\s+/)}}else{bk.className=[]}var bj=aB.sourceNormalizers;for(var bi=0;bi<bj.length;bi++){bj[bi](bk)}}function aU(bj,bi){return bj&&bi&&aQ(bj)==aQ(bi)}function aQ(bi){return((typeof bi=="object")?(bi.events||bi.url):"")||bi}}aB.addDays=aD;aB.cloneDate=N;aB.parseDate=Z;aB.parseISO8601=o;aB.parseTime=aH;aB.formatDate=C;aB.formatDates=k;var P=["sun","mon","tue","wed","thu","fri","sat"],aw=86400000,ak=3600000,T=60000;function ah(aM,aN,aL){aM.setFullYear(aM.getFullYear()+aN);if(!aL){e(aM)}return aM}function p(aO,aP,aN){if(+aO){var aL=aO.getMonth()+aP,aM=N(aO);aM.setDate(1);aM.setMonth(aL);aO.setMonth(aL);if(!aN){e(aO)}while(aO.getMonth()!=aM.getMonth()){aO.setDate(aO.getDate()+(aO<aM?1:-1))}}return aO}function aD(aO,aP,aN){if(+aO){var aL=aO.getDate()+aP,aM=N(aO);aM.setHours(9);aM.setDate(aL);aO.setDate(aL);if(!aN){e(aO)}aF(aO,aM)}return aO}function aF(aM,aL){if(+aM){while(aM.getDate()!=aL.getDate()){aM.setTime(+aM+(aM<aL?1:-1)*ak)}}}function j(aL,aM){aL.setMinutes(aL.getMinutes()+aM);return aL}function e(aL){aL.setHours(0);aL.setMinutes(0);aL.setSeconds(0);aL.setMilliseconds(0);return aL}function N(aL,aM){if(aM){return e(new Date(+aL))}return new Date(+aL)}function g(){var aL=0,aM;do{aM=new Date(1970,aL++,1)}while(aM.getHours());return aM}function aA(aM,aL){return Math.round((N(aM,true)-N(aL,true))/aw)}function z(aM,aO,aL,aN){if(aO!==v&&aO!=aM.getFullYear()){aM.setDate(1);aM.setMonth(0);aM.setFullYear(aO)}if(aL!==v&&aL!=aM.getMonth()){aM.setDate(1);aM.setMonth(aL)}if(aN!==v){aM.setDate(aN)}}function Z(aM,aL){if(typeof aM=="object"){return aM}if(typeof aM=="number"){return new Date(aM*1000)}if(typeof aM=="string"){if(aM.match(/^\d+(\.\d+)?$/)){return new Date(parseFloat(aM)*1000)}if(aL===v){aL=true}return o(aM,aL)||(aM?new Date(aM):null)}return null}function o(aP,aM){var aL=aP.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!aL){return null}var aO=new Date(aL[1],0,1);if(aM||!aL[13]){var aN=new Date(aL[1],0,1,9,0);if(aL[3]){aO.setMonth(aL[3]-1);aN.setMonth(aL[3]-1)}if(aL[5]){aO.setDate(aL[5]);aN.setDate(aL[5])}aF(aO,aN);if(aL[7]){aO.setHours(aL[7])}if(aL[8]){aO.setMinutes(aL[8])}if(aL[10]){aO.setSeconds(aL[10])}if(aL[12]){aO.setMilliseconds(Number("0."+aL[12])*1000)}aF(aO,aN)}else{aO.setUTCFullYear(aL[1],aL[3]?aL[3]-1:0,aL[5]||1);aO.setUTCHours(aL[7]||0,aL[8]||0,aL[10]||0,aL[12]?Number("0."+aL[12])*1000:0);if(aL[14]){var aQ=Number(aL[16])*60+(aL[18]?Number(aL[18]):0);aQ*=aL[15]=="-"?1:-1;aO=new Date(+aO+(aQ*60*1000))}}return aO}function aH(aN){if(typeof aN=="number"){return aN*60}if(typeof aN=="object"){return aN.getHours()*60+aN.getMinutes()}var aL=aN.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(aL){var aM=parseInt(aL[1],10);if(aL[3]){aM%=12;if(aL[3].toLowerCase().charAt(0)=="p"){aM+=12}}return aM*60+(aL[2]?parseInt(aL[2],10):0)}}function C(aM,aN,aL){return k(aM,null,aN,aL)}function k(aX,aW,aV,aY){aY=aY||M;var aM=aX,aO=aW,aP,aQ=aV.length,aS,aN,aU,aR="";for(aP=0;aP<aQ;aP++){aS=aV.charAt(aP);if(aS=="'"){for(aN=aP+1;aN<aQ;aN++){if(aV.charAt(aN)=="'"){if(aM){if(aN==aP+1){aR+="'"}else{aR+=aV.substring(aP+1,aN)}aP=aN}break}}}else{if(aS=="("){for(aN=aP+1;aN<aQ;aN++){if(aV.charAt(aN)==")"){var aL=C(aM,aV.substring(aP+1,aN),aY);if(parseInt(aL.replace(/\D/,""),10)){aR+=aL}aP=aN;break}}}else{if(aS=="["){for(aN=aP+1;aN<aQ;aN++){if(aV.charAt(aN)=="]"){var aT=aV.substring(aP+1,aN);var aL=C(aM,aT,aY);if(aL!=C(aO,aT,aY)){aR+=aL}aP=aN;break}}}else{if(aS=="{"){aM=aW;aO=aX}else{if(aS=="}"){aM=aX;aO=aW}else{for(aN=aQ;aN>aP;aN--){if(aU=az[aV.substring(aP,aN)]){if(aM){aR+=aU(aM,aY)}aP=aN-1;break}}if(aN==aP){if(aM){aR+=aS}}}}}}}}return aR}var az={s:function(aL){return aL.getSeconds()},ss:function(aL){return aa(aL.getSeconds())},m:function(aL){return aL.getMinutes()},mm:function(aL){return aa(aL.getMinutes())},h:function(aL){return aL.getHours()%12||12},hh:function(aL){return aa(aL.getHours()%12||12)},H:function(aL){return aL.getHours()},HH:function(aL){return aa(aL.getHours())},d:function(aL){return aL.getDate()},dd:function(aL){return aa(aL.getDate())},ddd:function(aM,aL){return aL.dayNamesShort[aM.getDay()]},dddd:function(aM,aL){return aL.dayNames[aM.getDay()]},M:function(aL){return aL.getMonth()+1},MM:function(aL){return aa(aL.getMonth()+1)},MMM:function(aM,aL){return aL.monthNamesShort[aM.getMonth()]},MMMM:function(aM,aL){return aL.monthNames[aM.getMonth()]},yy:function(aL){return(aL.getFullYear()+"").substring(2)},yyyy:function(aL){return aL.getFullYear()},t:function(aL){return aL.getHours()<12?"a":"p"},tt:function(aL){return aL.getHours()<12?"am":"pm"},T:function(aL){return aL.getHours()<12?"A":"P"},TT:function(aL){return aL.getHours()<12?"AM":"PM"},u:function(aL){return C(aL,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(aM){var aL=aM.getDate();if(aL>10&&aL<20){return"th"}return["st","nd","rd"][aL%10-1]||"th"},w:function(aM,aL){return aL.weekNumberCalculation(aM)},W:function(aL){return w(aL)}};aB.dateFormatters=az;function w(aL){var aM;var aN=new Date(aL.getTime());aN.setDate(aN.getDate()+4-(aN.getDay()||7));aM=aN.getTime();aN.setMonth(0);aN.setDate(1);return Math.floor(Math.round((aM-aN)/86400000)/7)+1}aB.applyAll=I;function an(aL){if(aL.end){return r(aL.end,aL.allDay)}else{return aD(N(aL.start),1)}}function r(aL,aM){aL=N(aL);return aM||aL.getHours()||aL.getMinutes()?aD(aL,1):e(aL)}function u(aM,aL,aN){aM.unbind("mouseover").mouseover(function(aR){var aQ=aR.target,aS,aP,aO;while(aQ!=this){aS=aQ;aQ=aQ.parentNode}if((aP=aS._fci)!==v){aS._fci=v;aO=aL[aP];aN(aO.event,aO.element,aO);at(aR.target).trigger(aR)}aR.stopPropagation()})}function au(aN,aO,aL){for(var aM=0,aP;aM<aN.length;aM++){aP=at(aN[aM]);aP.width(Math.max(0,aO-i(aP,aL)))}}function Y(aO,aL,aM){for(var aN=0,aP;aN<aO.length;aN++){aP=at(aO[aN]);aP.height(Math.max(0,aL-G(aP,aM)))}}function i(aM,aL){return ag(aM)+q(aM)+(aL?af(aM):0)}function ag(aL){return(parseFloat(at.css(aL[0],"paddingLeft",true))||0)+(parseFloat(at.css(aL[0],"paddingRight",true))||0)}function af(aL){return(parseFloat(at.css(aL[0],"marginLeft",true))||0)+(parseFloat(at.css(aL[0],"marginRight",true))||0)}function q(aL){return(parseFloat(at.css(aL[0],"borderLeftWidth",true))||0)+(parseFloat(at.css(aL[0],"borderRightWidth",true))||0)}function G(aM,aL){return y(aM)+ap(aM)+(aL?l(aM):0)}function y(aL){return(parseFloat(at.css(aL[0],"paddingTop",true))||0)+(parseFloat(at.css(aL[0],"paddingBottom",true))||0)}function l(aL){return(parseFloat(at.css(aL[0],"marginTop",true))||0)+(parseFloat(at.css(aL[0],"marginBottom",true))||0)}function ap(aL){return(parseFloat(at.css(aL[0],"borderTopWidth",true))||0)+(parseFloat(at.css(aL[0],"borderBottomWidth",true))||0)}function aq(){}function a(aM,aL){return aM-aL}function ar(aL){return Math.max.apply(Math,aL)}function aa(aL){return(aL<10?"0":"")+aL}function F(aP,aL){if(aP[aL]!==v){return aP[aL]}var aO=aL.split(/(?=[A-Z])/),aN=aO.length-1,aM;for(;aN>=0;aN--){aM=aP[aO[aN].toLowerCase()];if(aM!==v){return aM}}return aP[""]}function aG(aL){return aL.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function aK(aL){aL.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})}function f(aL){aL.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function K(aL,aM){aL.each(function(aN,aO){aO.className=aO.className.replace(/^fc-\w*/,"fc-"+P[aM.getDay()])})}function Q(aM,aN){var aL=aM.source||{};var aS=aM.color;var aQ=aL.color;var aP=aN("eventColor");var aT=aM.backgroundColor||aS||aL.backgroundColor||aQ||aN("eventBackgroundColor")||aP;var aO=aM.borderColor||aS||aL.borderColor||aQ||aN("eventBorderColor")||aP;var aU=aM.textColor||aL.textColor||aN("eventTextColor");var aR=[];if(aT){aR.push("background-color:"+aT)}if(aO){aR.push("border-color:"+aO)}if(aU){aR.push("color:"+aU)}return aR.join(";")}function I(aO,aP,aM){if(at.isFunction(aO)){aO=[aO]}if(aO){var aN;var aL;for(aN=0;aN<aO.length;aN++){aL=aO[aN].apply(aP,aM)||aL}return aL}}function aI(){for(var aL=0;aL<arguments.length;aL++){if(arguments[aL]!==v){return arguments[aL]}}}ae.month=ac;function ac(aQ,aP){var aT=this;aT.render=aL;A.call(aT,aQ,aP,"month");var aM=aT.opt;var aN=aT.renderBasic;var aR=aT.skipHiddenDays;var aO=aT.getCellsPerWeek;var aS=aP.formatDate;function aL(aW,a1){if(a1){p(aW,a1);aW.setDate(1)}var aU=aM("firstDay");var aV=N(aW,true);aV.setDate(1);var aX=p(N(aV),1);var a2=N(aV);aD(a2,-((a2.getDay()-aU+7)%7));aR(a2);var aY=N(aX);aD(aY,(7-aY.getDay()+aU)%7);aR(aY,-1,true);var a0=aO();var aZ=Math.round(aA(aY,a2)/7);if(aM("weekMode")=="fixed"){aD(aY,(6-aZ)*7);aZ=6}aT.title=aS(aV,aM("titleFormat"));aT.start=aV;aT.end=aX;aT.visStart=a2;aT.visEnd=aY;aN(aZ,a0,true)}}ae.basicWeek=aC;function aC(aQ,aP){var aT=this;aT.render=aL;A.call(aT,aQ,aP,"basicWeek");var aM=aT.opt;var aN=aT.renderBasic;var aS=aT.skipHiddenDays;var aO=aT.getCellsPerWeek;var aR=aP.formatDates;function aL(aY,a0){if(a0){aD(aY,a0*7)}var aZ=aD(N(aY),-((aY.getDay()-aM("firstDay")+7)%7));var aW=aD(N(aZ),7);var aV=N(aZ);aS(aV);var aU=N(aW);aS(aU,-1,true);var aX=aO();aT.start=aZ;aT.end=aW;aT.visStart=aV;aT.visEnd=aU;aT.title=aR(aV,aD(N(aU),-1),aM("titleFormat"));aN(1,aX,false)}}ae.basicDay=J;function J(aP,aS){var aO=this;aO.render=aQ;A.call(aO,aP,aS,"basicDay");var aN=aO.opt;var aL=aO.renderBasic;var aM=aO.skipHiddenDays;var aR=aS.formatDate;function aQ(aU,aW){if(aW){aD(aU,aW)}aM(aU,aW<0?-1:1);var aV=N(aU,true);var aT=aD(N(aV),1);aO.title=aR(aU,aN("titleFormat"));aO.start=aO.visStart=aV;aO.end=aO.visEnd=aT;aL(1,1,false)}}ai({weekMode:"fixed"});function A(a6,bx,aY){var bw=this;bw.renderBasic=bq;bw.setHeight=bu;bw.setWidth=bF;bw.renderDayOverlay=bm;bw.defaultSelectionEnd=bl;bw.renderSelection=by;bw.clearSelection=aL;bw.reportDayClick=a4;bw.dragStart=aQ;bw.dragStop=aZ;bw.defaultEventEnd=bK;bw.getHoverListener=function(){return aR};bw.colLeft=bM;bw.colRight=a9;bw.colContentLeft=bt;bw.colContentRight=br;bw.getIsCellAllDay=function(){return true};bw.allDayRow=a3;bw.getRowCnt=function(){return bd};bw.getColCnt=function(){return aT};bw.getColWidth=function(){return bi};bw.getDaySegmentContainer=function(){return a2};aE.call(bw,a6,bx,aY);c.call(bw);am.call(bw);al.call(bw);var bb=bw.opt;var bn=bw.trigger;var bI=bw.renderOverlay;var aX=bw.clearOverlays;var bs=bw.daySelectionMousedown;var aM=bw.cellToDate;var bB=bw.dateToCell;var bp=bw.rangeToSegments;var bv=bx.formatDate;var bc;var a5;var a0;var bg;var aW;var a7;var bj;var bh;var aO;var a2;var bJ;var bL;var bi;var a1;var bd,aT;var a8;var bz;var aR;var bC;var bD;var bN;var aU;var ba;var bA;var bk;aK(a6.addClass("fc-grid"));function bq(bO,bP,bQ){bd=bO;aT=bP;a8=bQ;bG();if(!bg){aP()}bf()}function bG(){bN=bb("theme")?"ui":"fc";aU=bb("columnFormat");ba=bb("weekNumbers");bA=bb("weekNumberTitle");if(bb("weekNumberCalculation")!="iso"){bk="w"}else{bk="W"}}function aP(){a2=at("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(a6)}function bf(){var bO=bo();if(bc){bc.remove()}bc=at(bO).appendTo(a6);a5=bc.find("thead");a0=a5.find(".fc-day-header");bg=bc.find("tbody");aW=bg.find("tr");a7=bg.find(".fc-day");bj=aW.find("td:first-child");bh=aW.eq(0).find(".fc-day > div");aO=aW.eq(0).find(".fc-day-content > div");f(a5.add(a5.find("tr")));f(aW);aW.eq(0).addClass("fc-first");aW.filter(":last").addClass("fc-last");a7.each(function(bQ,bR){var bP=aM(Math.floor(bQ/aT),bQ%aT);bn("dayRender",bw,bP,at(bR))});aS(a7)}function bo(){var bO="<table class='fc-border-separate' style='width:100%' cellspacing='0'>"+aN()+be()+"</table>";return bO}function aN(){var bR=bN+"-widget-header";var bQ="";var bP;var bO;bQ+="<thead><tr>";if(ba){bQ+="<th class='fc-week-number "+bR+"'>"+aG(bA)+"</th>"}for(bP=0;bP<aT;bP++){bO=aM(0,bP);bQ+="<th class='fc-day-header fc-"+P[bO.getDay()]+" "+bR+"'>"+aG(bv(bO,aU))+"</th>"}bQ+="</tr></thead>";return bQ}function be(){var bQ=bN+"-widget-content";var bR="";var bS;var bP;var bO;bR+="<tbody>";for(bS=0;bS<bd;bS++){bR+="<tr class='fc-week'>";if(ba){bO=aM(bS,0);bR+="<td class='fc-week-number "+bQ+"'><div>"+aG(bv(bO,bk))+"</div></td>"}for(bP=0;bP<aT;bP++){bO=aM(bS,bP);bR+=aV(bO)}bR+="</tr>"}bR+="</tbody>";return bR}function aV(bQ){var bP=bN+"-widget-content";var bS=bw.start.getMonth();var bO=e(new Date());var bR="";var bT=["fc-day","fc-"+P[bQ.getDay()],bP];if(bQ.getMonth()!=bS){bT.push("fc-other-month")}if(+bQ==+bO){bT.push("fc-today",bN+"-state-highlight")}else{if(bQ<bO){bT.push("fc-past")}else{bT.push("fc-future")}}bR+="<td class='"+bT.join(" ")+"' data-date='"+bv(bQ,"yyyy-MM-dd")+"'><div>";if(a8){bR+="<div class='fc-day-number'>"+bQ.getDate()+"</div>"}bR+="<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";return bR}function bu(bP){bL=bP;var bS=bL-a5.height();var bR;var bQ;var bO;if(bb("weekMode")=="variable"){bR=bQ=Math.floor(bS/(bd==1?2:6))}else{bR=Math.floor(bS/bd);bQ=bS-bR*(bd-1)}bj.each(function(bT,bU){if(bT<bd){bO=at(bU);bO.find("> div").css("min-height",(bT==bd-1?bQ:bR)-G(bO))}})}function bF(bO){bJ=bO;bC.clear();bD.clear();a1=0;if(ba){a1=a5.find("th.fc-week-number").outerWidth()}bi=Math.floor((bJ-a1)/aT);au(a0.slice(0,-1),bi)}function aS(bO){bO.click(bH).mousedown(bs)}function bH(bP){if(!bb("selectable")){var bO=o(at(this).data("date"));bn("dayClick",this,bO,true,bP)}}function bm(bS,bT,bO){if(bO){bz.build()}var bP=bp(bS,bT);for(var bQ=0;bQ<bP.length;bQ++){var bR=bP[bQ];aS(bE(bR.row,bR.leftCol,bR.row,bR.rightCol))}}function bE(bR,bS,bP,bQ){var bO=bz.rect(bR,bS,bP,bQ,a6);return bI(bO,a6)}function bl(bO,bP){return N(bO)}function by(bO,bQ,bP){bm(bO,aD(N(bQ),1),true)}function aL(){aX()}function a4(bQ,bS,bR){var bO=bB(bQ);var bP=a7[bO.row*aT+bO.col];bn("dayClick",bP,bQ,bS,bR)}function aQ(bQ,bO,bP){aR.start(function(bR){aX();if(bR){bE(bR.row,bR.col,bR.row,bR.col)}},bO)}function aZ(bS,bP,bQ){var bO=aR.stop();aX();if(bO){var bR=aM(bO);bn("drop",bS,bR,true,bP,bQ)}}function bK(bO){return N(bO.start)}bz=new O(function(bO,bR){var bQ,bS,bP;a0.each(function(bU,bT){bQ=at(bT);bS=bQ.offset().left;if(bU){bP[1]=bS}bP=[bS];bR[bU]=bP});bP[1]=bS+bQ.outerWidth();aW.each(function(bU,bT){if(bU<bd){bQ=at(bT);bS=bQ.offset().top;if(bU){bP[1]=bS}bP=[bS];bO[bU]=bP}});bP[1]=bS+bQ.outerHeight()});aR=new ao(bz);bC=new m(function(bO){return bh.eq(bO)});bD=new m(function(bO){return aO.eq(bO)});function bM(bO){return bC.left(bO)}function a9(bO){return bC.right(bO)}function bt(bO){return bD.left(bO)}function br(bO){return bD.right(bO)}function a3(bO){return aW.eq(bO)}}function al(){var aM=this;aM.renderEvents=aL;aM.clearEvents=aN;X.call(aM);function aL(aP,aO){aM.renderDayEvents(aP,aO)}function aN(){aM.getDaySegmentContainer().empty()}}ae.agendaWeek=h;function h(aQ,aP){var aT=this;aT.render=aL;H.call(aT,aQ,aP,"agendaWeek");var aM=aT.opt;var aN=aT.renderAgenda;var aS=aT.skipHiddenDays;var aO=aT.getCellsPerWeek;var aR=aP.formatDates;function aL(aY,a0){if(a0){aD(aY,a0*7)}var aZ=aD(N(aY),-((aY.getDay()-aM("firstDay")+7)%7));var aW=aD(N(aZ),7);var aV=N(aZ);aS(aV);var aU=N(aW);aS(aU,-1,true);var aX=aO();aT.title=aR(aV,aD(N(aU),-1),aM("titleFormat"));aT.start=aZ;aT.end=aW;aT.visStart=aV;aT.visEnd=aU;aN(aX)}}ae.agendaDay=ax;function ax(aP,aS){var aO=this;aO.render=aQ;H.call(aO,aP,aS,"agendaDay");var aN=aO.opt;var aL=aO.renderAgenda;var aM=aO.skipHiddenDays;var aR=aS.formatDate;function aQ(aU,aW){if(aW){aD(aU,aW)}aM(aU,aW<0?-1:1);var aV=N(aU,true);var aT=aD(N(aV),1);aO.title=aR(aU,aN("titleFormat"));aO.start=aO.visStart=aV;aO.end=aO.visEnd=aT;aL(1)}}ai({allDaySlot:true,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24,slotEventOverlap:true});function H(ca,a1,be){var bb=this;bb.renderAgenda=aX;bb.setWidth=bn;bb.setHeight=bj;bb.afterRender=bT;bb.defaultEventEnd=bS;bb.timePosition=cd;bb.getIsCellAllDay=bu;bb.allDayRow=bB;bb.getCoordinateGrid=function(){return bG};bb.getHoverListener=function(){return b9};bb.colLeft=b4;bb.colRight=bL;bb.colContentLeft=ce;bb.colContentRight=aT;bb.getDaySegmentContainer=function(){return a6};bb.getSlotSegmentContainer=function(){return aR};bb.getMinMinute=function(){return bi};bb.getMaxMinute=function(){return aN};bb.getSlotContainer=function(){return a4};bb.getRowCnt=function(){return 1};bb.getColCnt=function(){return bE};bb.getColWidth=function(){return aU};bb.getSnapHeight=function(){return b6};bb.getSnapMinutes=function(){return br};bb.defaultSelectionEnd=bm;bb.renderDayOverlay=aP;bb.renderSelection=b2;bb.clearSelection=bX;bb.reportDayClick=a8;bb.dragStart=aV;bb.dragStop=cb;aE.call(bb,ca,a1,be);c.call(bb);am.call(bb);U.call(bb);var bz=bb.opt;var bC=bb.trigger;var bq=bb.renderOverlay;var aO=bb.clearOverlays;var bs=bb.reportSelection;var b0=bb.unselect;var bx=bb.daySelectionMousedown;var a3=bb.slotSegHtml;var a9=bb.cellToDate;var aW=bb.dateToCell;var bg=bb.rangeToSegments;var a7=a1.formatDate;var bO;var b7;var bV;var bU;var bd;var aQ;var aL;var bR;var bK;var cc;var a6;var b8;var bZ;var bo;var a4;var aR;var aY;var aS;var bv;var bI;var bk;var aU;var by;var bF;var br;var a2;var b6;var bE;var bJ;var bG;var b9;var bD;var bw;var bf={};var bp;var aM;var bi,aN;var a0;var bP;var bA;var bt;aK(ca.addClass("fc-agenda"));function aX(cf){bE=cf;bH();if(!bO){bc()}else{bN()}}function bH(){bp=bz("theme")?"ui":"fc";aM=bz("isRTL");bi=aH(bz("minTime"));aN=aH(bz("maxTime"));a0=bz("columnFormat");bP=bz("weekNumbers");bA=bz("weekNumberTitle");if(bz("weekNumberCalculation")!="iso"){bt="w"}else{bt="W"}br=bz("snapMinutes")||bz("slotMinutes")}function bc(){var ck=bp+"-widget-header";var cf=bp+"-widget-content";var cj;var cm;var ci;var cl;var ch;var cg=bz("slotMinutes")%15==0;bN();cc=at("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(ca);if(bz("allDaySlot")){a6=at("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(cc);cj="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+ck+" fc-agenda-axis'>"+bz("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+ck+" fc-agenda-gutter'>&nbsp;</th></tr></table>";b8=at(cj).appendTo(cc);bZ=b8.find("tr");bl(bZ.find("td"));cc.append("<div class='fc-agenda-divider "+ck+"'><div class='fc-agenda-divider-inner'/></div>")}else{a6=at([])}bo=at("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(cc);a4=at("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(bo);aR=at("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(a4);cj="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>";cm=g();cl=j(N(cm),aN);j(cm,bi);bJ=0;for(ci=0;cm<cl;ci++){ch=cm.getMinutes();cj+="<tr class='fc-slot"+ci+" "+(!ch?"":"fc-minor")+"'><th class='fc-agenda-axis "+ck+"'>"+((!cg||!ch)?a7(cm,bz("axisFormat")):"&nbsp;")+"</th><td class='"+cf+"'><div style='position:relative'>&nbsp;</div></td></tr>";j(cm,bz("slotMinutes"));bJ++}cj+="</tbody></table>";aY=at(cj).appendTo(a4);bY(aY.find("td"))}function bN(){var cf=b5();if(bO){bO.remove()}bO=at(cf).appendTo(ca);b7=bO.find("thead");bV=b7.find("th").slice(1,-1);bU=bO.find("tbody");bd=bU.find("td").slice(0,-1);aQ=bd.find("> div");aL=bd.find(".fc-day-content > div");bR=bd.eq(0);bK=aQ.eq(0);f(b7.add(b7.find("tr")));f(bU.add(bU.find("tr")))}function b5(){var cf="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'>"+b3()+bW()+"</table>";return cf}function b3(){var ci=bp+"-widget-header";var cg;var ch="";var cj;var cf;ch+="<thead><tr>";if(bP){cg=a9(0,0);cj=a7(cg,bt);if(aM){cj+=bA}else{cj=bA+cj}ch+="<th class='fc-agenda-axis fc-week-number "+ci+"'>"+aG(cj)+"</th>"}else{ch+="<th class='fc-agenda-axis "+ci+"'>&nbsp;</th>"}for(cf=0;cf<bE;cf++){cg=a9(0,cf);ch+="<th class='fc-"+P[cg.getDay()]+" fc-col"+cf+" "+ci+"'>"+aG(a7(cg,a0))+"</th>"}ch+="<th class='fc-agenda-gutter "+ci+"'>&nbsp;</th></tr></thead>";return ch}function bW(){var ch=bp+"-widget-header";var ci=bp+"-widget-content";var ck;var cm=e(new Date());var cj;var cn;var cg;var cf;var cl="";cl+="<tbody><tr><th class='fc-agenda-axis "+ch+"'>&nbsp;</th>";cn="";for(cj=0;cj<bE;cj++){ck=a9(0,cj);cf=["fc-col"+cj,"fc-"+P[ck.getDay()],ci];if(+ck==+cm){cf.push(bp+"-state-highlight","fc-today")}else{if(ck<cm){cf.push("fc-past")}else{cf.push("fc-future")}}cg="<td class='"+cf.join(" ")+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";cn+=cg}cl+=cn;cl+="<td class='fc-agenda-gutter "+ci+"'>&nbsp;</td></tr></tbody>";return cl}function bj(cf){if(cf===v){cf=bI}bI=cf;bf={};var ch=bU.position().top;var cg=bo.position().top;var ci=Math.min(cf-ch,aY.height()+cg+1);bK.height(ci-G(bR));cc.css("top",ch);bo.height(ci-cg-1);bF=aY.find("tr:first").height()+1;a2=bz("slotMinutes")/br;b6=bF/a2}function bn(ci){bv=ci;bD.clear();bw.clear();var cf=b7.find("th:first");if(b8){cf=cf.add(b8.find("th:first"))}cf=cf.add(aY.find("th:first"));bk=0;au(cf.width("").each(function(cj,ck){bk=Math.max(bk,at(ck).outerWidth())}),bk);var cg=bO.find(".fc-agenda-gutter");if(b8){cg=cg.add(b8.find("th.fc-agenda-gutter"))}var ch=bo[0].clientWidth;by=bo.width()-ch;if(by){au(cg,by);cg.show().prev().removeClass("fc-last")}else{cg.hide().prev().addClass("fc-last")}aU=Math.floor((ch-bk)/bE);au(bV.slice(0,-1),aU)}function bh(){var ci=g();var cg=N(ci);cg.setHours(bz("firstHour"));var ch=cd(ci,cg)+1;function cf(){bo.scrollTop(ch)}cf();setTimeout(cf,0)}function bT(){bh()}function bl(cf){cf.click(bM).mousedown(bx)}function bY(cf){cf.click(bM).mousedown(aZ)}function bM(cj){if(!bz("selectable")){var ch=Math.min(bE-1,Math.floor((cj.pageX-bO.offset().left-bk)/aU));var cg=a9(0,ch);var ck=this.parentNode.className.match(/fc-slot(\d+)/);if(ck){var ci=parseInt(ck[1])*bz("slotMinutes");var cf=Math.floor(ci/60);cg.setHours(cf);cg.setMinutes(ci%60+bi);bC("dayClick",bd[ch],cg,false,cj)}else{bC("dayClick",bd[ch],cg,true,cj)}}}function aP(cj,ck,cf){if(cf){bG.build()}var cg=bg(cj,ck);for(var ch=0;ch<cg.length;ch++){var ci=cg[ch];bl(a5(ci.row,ci.leftCol,ci.row,ci.rightCol))}}function a5(ci,cj,cg,ch){var cf=bG.rect(ci,cj,cg,ch,cc);return bq(cf,cc)}function ba(cj,co){for(var ch=0;ch<bE;ch++){var ck=a9(0,ch);var cg=aD(N(ck),1);var ci=new Date(Math.max(ck,cj));var cn=new Date(Math.min(cg,co));if(ci<cn){var cm=bG.rect(0,ch,0,ch,a4);var cl=cd(ck,ci);var cf=cd(ck,cn);cm.top=cl;cm.height=cf-cl;bY(bq(cm,a4))}}}bG=new O(function(cn,cl){var cj,cg,cf;bV.each(function(cq,cp){cj=at(cp);cg=cj.offset().left;if(cq){cf[1]=cg}cf=[cg];cl[cq]=cf});cf[1]=cg+cj.outerWidth();if(bz("allDaySlot")){cj=bZ;cg=cj.offset().top;cn[0]=[cg,cg+cj.outerHeight()]}var cm=a4.offset().top;var co=bo.offset().top;var ci=co+bo.outerHeight();function ck(cp){return Math.max(co,Math.min(ci,cp))}for(var ch=0;ch<bJ*a2;ch++){cn.push([ck(cm+b6*ch),ck(cm+b6*(ch+1))])}});b9=new ao(bG);bD=new m(function(cf){return aQ.eq(cf)});bw=new m(function(cf){return aL.eq(cf)});function b4(cf){return bD.left(cf)}function ce(cf){return bw.left(cf)}function bL(cf){return bD.right(cf)}function aT(cf){return bw.right(cf)}function bu(cf){return bz("allDaySlot")&&!cf.row}function bQ(cf){var ch=a9(0,cf.col);var cg=cf.row;if(bz("allDaySlot")){cg--}if(cg>=0){j(ch,bi+cg*br)}return ch}function cd(cg,ck){cg=N(cg,true);if(ck<j(N(cg),bi)){return 0}if(ck>=j(N(cg),aN)){return aY.height()}var cf=bz("slotMinutes"),cj=ck.getHours()*60+ck.getMinutes()-bi,ci=Math.floor(cj/cf),ch=bf[ci];if(ch===v){ch=bf[ci]=aY.find("tr").eq(ci).find("td div")[0].offsetTop}return Math.max(0,Math.round(ch-1+bF*((cj%cf)/cf)))}function bB(cf){return bZ}function bS(cf){var cg=N(cf.start);if(cf.allDay){return cg}return j(cg,bz("defaultEventMinutes"))}function bm(cf,cg){if(cg){return N(cf)}return j(N(cf),bz("slotMinutes"))}function b2(cf,ch,cg){if(cg){if(bz("allDaySlot")){aP(cf,aD(N(ch),1),true)}}else{b1(cf,ch)}}function b1(cf,cl){var cj=bz("selectHelper");bG.build();if(cj){var ch=aW(cf).col;if(ch>=0&&ch<bE){var ci=bG.rect(0,ch,0,ch,a4);var ck=cd(cf,cf);var cg=cd(cf,cl);if(cg>ck){ci.top=ck;ci.height=cg-ck;ci.left+=2;ci.width-=5;if(at.isFunction(cj)){var cm=cj(cf,cl);if(cm){ci.position="absolute";aS=at(cm).css(ci).appendTo(a4)}}else{ci.isStart=true;ci.isEnd=true;aS=at(a3({title:"",start:cf,end:cl,className:["fc-select-helper"],editable:false},ci));aS.css("opacity",bz("dragOpacity"))}if(aS){bY(aS);a4.append(aS);au(aS,ci.width,true);Y(aS,ci.height,true)}}}}else{ba(cf,cl)}}function bX(){aO();if(aS){aS.remove();aS=null}}function aZ(cf){if(cf.which==1&&bz("selectable")){b0(cf);var cg;b9.start(function(ci,ch){bX();if(ci&&ci.col==ch.col&&!bu(ci)){var ck=bQ(ch);var cj=bQ(ci);cg=[ck,j(N(ck),br),cj,j(N(cj),br)].sort(a);b1(cg[0],cg[3])}else{cg=null}},cf);at(document).one("mouseup",function(ch){b9.stop();if(cg){if(+cg[0]==+cg[1]){a8(cg[0],false,ch)}bs(cg[0],cg[3],false,ch)}})}}function a8(cf,ch,cg){bC("dayClick",bd[aW(cf).col],cf,ch,cg)}function aV(ch,cf,cg){b9.start(function(ci){aO();if(ci){if(bu(ci)){a5(ci.row,ci.col,ci.row,ci.col)}else{var ck=bQ(ci);var cj=j(N(ck),bz("defaultEventMinutes"));ba(ck,cj)}}},cf)}function cb(ci,cg,ch){var cf=b9.stop();aO();if(cf){bC("drop",ci,bQ(cf),bu(cf),cg,ch)}}}function U(){var bk=this;bk.renderEvents=aQ;bk.clearEvents=a5;bk.slotSegHtml=a6;X.call(bk);var a0=bk.opt;var a7=bk.trigger;var aO=bk.isEventDraggable;var bp=bk.isEventResizable;var bq=bk.eventEnd;var ba=bk.eventElementHandlers;var bg=bk.setHeight;var aP=bk.getDaySegmentContainer;var bs=bk.getSlotSegmentContainer;var aN=bk.getHoverListener;var aM=bk.getMaxMinute;var bb=bk.getMinMinute;var aT=bk.timePosition;var bd=bk.getIsCellAllDay;var bf=bk.colContentLeft;var bc=bk.colContentRight;var aL=bk.cellToDate;var bh=bk.getColCnt;var a1=bk.getColWidth;var bj=bk.getSnapHeight;var aV=bk.getSnapMinutes;var aX=bk.getSlotContainer;var aY=bk.reportEventElement;var aR=bk.showEvents;var aZ=bk.hideEvents;var bn=bk.eventDrop;var a3=bk.eventResize;var a8=bk.renderDayOverlay;var aS=bk.clearOverlays;var bt=bk.renderDayEvents;var bl=bk.calendar;var bi=bl.formatDate;var a2=bl.formatDates;bk.draggableDayEvent=aW;function aQ(by,bw){var bx,bv=by.length,bz=[],bu=[];for(bx=0;bx<bv;bx++){if(by[bx].allDay){bz.push(by[bx])}else{bu.push(by[bx])}}if(a0("allDaySlot")){bt(bz,bw);bg()}aU(a4(bu),bw)}function a5(){aP().empty();bs().empty()}function a4(bE){var bC=bh(),bA=bb(),bv=aM(),bB,by=at.map(bE,br),bz,bx,bw,bD,bu=[];for(bz=0;bz<bC;bz++){bB=aL(0,bz);j(bB,bA);bD=be(bE,by,bB,j(N(bB),bv-bA));bD=aj(bD);for(bx=0;bx<bD.length;bx++){bw=bD[bx];bw.col=bz;bu.push(bw)}}return bu}function be(bG,bA,bw,bz){var bx=[],bB,bD=bG.length,bv,bE,bC,bF,bH,bu,by;for(bB=0;bB<bD;bB++){bv=bG[bB];bE=bv.start;bC=bA[bB];if(bC>bw&&bE<bz){if(bE<bw){bF=N(bw);bu=false}else{bF=bE;bu=true}if(bC>bz){bH=N(bz);by=false}else{bH=bC;by=true}bx.push({event:bv,start:bF,end:bH,isStart:bu,isEnd:by})}}return bx.sort(x)}function br(bu){if(bu.end){return N(bu.end)}else{return j(N(bu.start),a0("defaultEventMinutes"))}}function aU(bF,bG){var bK,bN=bF.length,bM,bI,bC,by,bz,bB,bw,bH,bu,bO,bA="",bP,bL,bx,bE,bD,bJ=bs(),bv=a0("isRTL");for(bK=0;bK<bN;bK++){bM=bF[bK];bI=bM.event;bC=aT(bM.start,bM.start);by=aT(bM.start,bM.end);bz=bf(bM.col);bB=bc(bM.col);bw=bB-bz;bB-=bw*0.025;bw=bB-bz;bH=bw*(bM.forwardCoord-bM.backwardCoord);if(a0("slotEventOverlap")){bH=Math.max((bH-(20/2))*2,bH)}if(bv){bO=bB-bM.backwardCoord*bw;bu=bO-bH}else{bu=bz+bM.backwardCoord*bw;bO=bu+bH}bu=Math.max(bu,bz);bO=Math.min(bO,bB);bH=bO-bu;bM.top=bC;bM.left=bu;bM.outerWidth=bH;bM.outerHeight=by-bC;bA+=a6(bI,bM)}bJ[0].innerHTML=bA;bP=bJ.children();for(bK=0;bK<bN;bK++){bM=bF[bK];bI=bM.event;bL=at(bP[bK]);bx=a7("eventRender",bI,bI,bL);if(bx===false){bL.remove()}else{if(bx&&bx!==true){bL.remove();bL=at(bx).css({position:"absolute",top:bM.top,left:bM.left}).appendTo(bJ)}bM.element=bL;if(bI._id===bG){bm(bI,bL,bM)}else{bL[0]._fci=bK}aY(bI,bL)}}u(bJ,bF,bm);for(bK=0;bK<bN;bK++){bM=bF[bK];if(bL=bM.element){bM.vsides=G(bL,true);bM.hsides=i(bL,true);bE=bL.find(".fc-event-title");if(bE.length){bM.contentTop=bE[0].offsetTop}}}for(bK=0;bK<bN;bK++){bM=bF[bK];if(bL=bM.element){bL[0].style.width=Math.max(0,bM.outerWidth-bM.hsides)+"px";bD=Math.max(0,bM.outerHeight-bM.vsides);bL[0].style.height=bD+"px";bI=bM.event;if(bM.contentTop!==v&&bD-bM.contentTop<10){bL.find("div.fc-event-time").text(bi(bI.start,a0("timeFormat"))+" - "+bI.title);bL.find("div.fc-event-title").remove()}a7("eventAfterRender",bI,bI,bL)}}}function a6(bz,bu){var by="<";var bw=bz.url;var bv=Q(bz,a0);var bx=["fc-event","fc-event-vert"];if(aO(bz)){bx.push("fc-event-draggable")}if(bu.isStart){bx.push("fc-event-start")}if(bu.isEnd){bx.push("fc-event-end")}bx=bx.concat(bz.className);if(bz.source){bx=bx.concat(bz.source.className||[])}if(bw){by+="a href='"+aG(bz.url)+"'"}else{by+="div"}by+=" class='"+bx.join(" ")+"' style='position:absolute;top:"+bu.top+"px;left:"+bu.left+"px;"+bv+"'><div class='fc-event-inner'><div class='fc-event-time'>"+aG(a2(bz.start,bz.end,a0("timeFormat")))+"</div><div class='fc-event-title'>"+aG(bz.title||"")+"</div></div><div class='fc-event-bg'></div>";if(bu.isEnd&&bp(bz)){by+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"}by+="</"+(bw?"a":"div")+">";return by}function bm(bw,bv,bu){var bx=bv.find("div.fc-event-time");if(aO(bw)){a9(bw,bv,bx)}if(bu.isEnd&&bp(bw)){bo(bw,bv,bx)}ba(bw,bv)}function aW(bv,bE,bz){var bu=bz.isStart;var bF;var bD;var bH=true;var by;var bx=aN();var bA=a1();var bw=bj();var bG=aV();var bC=bb();bE.draggable({opacity:a0("dragOpacity","month"),revertDuration:a0("dragRevertDuration"),start:function(bI,bJ){a7("eventDragStart",bE,bv,bI,bJ);aZ(bv,bE);bF=bE.width();bx.start(function(bL,bK){aS();if(bL){bD=false;var bN=aL(0,bK.col);var bM=aL(0,bL.col);by=aA(bM,bN);if(!bL.row){a8(aD(N(bv.start),by),aD(an(bv),by));bB()}else{if(bu){if(bH){bE.width(bA-10);Y(bE,bw*Math.round((bv.end?((bv.end-bv.start)/T):a0("defaultEventMinutes"))/bG));bE.draggable("option","grid",[bA,1]);bH=false}}else{bD=true}}bD=bD||(bH&&!by)}else{bB();bD=true}bE.draggable("option","revert",bD)},bI,"drag")},stop:function(bJ,bK){bx.stop();aS();a7("eventDragStop",bE,bv,bJ,bK);if(bD){bB();bE.css("filter","");aR(bv,bE)}else{var bI=0;if(!bH){bI=Math.round((bE.offset().top-aX().offset().top)/bw)*bG+bC-(bv.start.getHours()*60+bv.start.getMinutes())}bn(this,bv,by,bI,bH,bJ,bK)}}});function bB(){if(!bH){bE.width(bF).height("").draggable("option","grid",null);bH=true}}}function a9(bH,bJ,bw){var bC=bk.getCoordinateGrid();var bF=bh();var bO=a1();var bG=bj();var bB=aV();var bN;var bL;var bM,bE;var bu,bx;var bv,bA;var by;var bI,bz;bJ.draggable({scroll:false,grid:[bO,bG],axis:bF==1?"y":false,opacity:a0("dragOpacity"),revertDuration:a0("dragRevertDuration"),start:function(bP,bQ){a7("eventDragStart",bJ,bH,bP,bQ);aZ(bH,bJ);bC.build();bN=bJ.position();bL=bC.cell(bP.pageX,bP.pageY);bM=bE=true;bu=bx=bd(bL);bv=bA=0;by=0;bI=bz=0},drag:function(bT,bU){var bP=bC.cell(bT.pageX,bT.pageY);bM=!!bP;if(bM){bu=bd(bP);bv=Math.round((bU.position.left-bN.left)/bO);if(bv!=bA){var bS=aL(0,bL.col);var bR=bL.col+bv;bR=Math.max(0,bR);bR=Math.min(bF-1,bR);var bQ=aL(0,bR);by=aA(bQ,bS)}if(!bu){bI=Math.round((bU.position.top-bN.top)/bG)*bB}}if(bM!=bE||bu!=bx||bv!=bA||bI!=bz){bK();bE=bM;bx=bu;bA=bv;bz=bI}bJ.draggable("option","revert",!bM)},stop:function(bP,bQ){aS();a7("eventDragStop",bJ,bH,bP,bQ);if(bM&&(bu||by||bI)){bn(this,bH,by,bu?0:bI,bu,bP,bQ)}else{bM=true;bu=false;bv=0;by=0;bI=0;bK();bJ.css("filter","");bJ.css(bN);aR(bH,bJ)}}});function bK(){aS();if(bM){if(bu){bw.hide();bJ.draggable("option","grid",null);a8(aD(N(bH.start),by),aD(an(bH),by))}else{bD(bI);bw.css("display","");bJ.draggable("option","grid",[bO,bG])}}}function bD(bQ){var bP=j(N(bH.start),bQ);var bR;if(bH.end){bR=j(N(bH.end),bQ)}bw.text(a2(bP,bR,a0("timeFormat")))}}function bo(by,bw,bz){var bx,bu;var bA=bj();var bv=aV();bw.resizable({handles:{s:".ui-resizable-handle"},grid:bA,start:function(bB,bC){bx=bu=0;aZ(by,bw);a7("eventResizeStart",this,by,bB,bC)},resize:function(bB,bC){bx=Math.round((Math.max(bA,bw.height())-bC.originalSize.height)/bA);if(bx!=bu){bz.text(a2(by.start,(!bx&&!by.end)?null:j(bq(by),bv*bx),a0("timeFormat")));bu=bx}},stop:function(bB,bC){a7("eventResizeStop",this,by,bB,bC);if(bx){a3(this,by,0,bv*bx,bB,bC)}else{aR(by,bw)}}})}}function aj(aL){var aN=E(aL);var aO=aN[0];var aM;W(aN);if(aO){for(aM=0;aM<aO.length;aM++){ab(aO[aM])}for(aM=0;aM<aO.length;aM++){L(aO[aM],0,0)}}return B(aN)}function E(aM){var aP=[];var aO,aL;var aN;for(aO=0;aO<aM.length;aO++){aL=aM[aO];for(aN=0;aN<aP.length;aN++){if(!aJ(aL,aP[aN]).length){break}}(aP[aN]||(aP[aN]=[])).push(aL)}return aP}function W(aP){var aO,aQ;var aN,aL;var aM;for(aO=0;aO<aP.length;aO++){aQ=aP[aO];for(aN=0;aN<aQ.length;aN++){aL=aQ[aN];aL.forwardSegs=[];for(aM=aO+1;aM<aP.length;aM++){aJ(aL,aP[aM],aL.forwardSegs)}}}}function ab(aM){var aL=aM.forwardSegs;var aP=0;var aO,aN;if(aM.forwardPressure===v){for(aO=0;aO<aL.length;aO++){aN=aL[aO];ab(aN);aP=Math.max(aP,1+aN.forwardPressure)}aM.forwardPressure=aP}}function L(aM,aO,aP){var aL=aM.forwardSegs;var aN;if(aM.forwardCoord===v){if(!aL.length){aM.forwardCoord=1}else{aL.sort(ay);L(aL[0],aO+1,aP);aM.forwardCoord=aL[0].backwardCoord}aM.backwardCoord=aM.forwardCoord-(aM.forwardCoord-aP)/(aO+1);for(aN=0;aN<aL.length;aN++){L(aL[aN],0,aM.forwardCoord)}}}function B(aO){var aL=[];var aN,aP;var aM;for(aN=0;aN<aO.length;aN++){aP=aO[aN];for(aM=0;aM<aP.length;aM++){aL.push(aP[aM])}}return aL}function aJ(aL,aO,aN){aN=aN||[];for(var aM=0;aM<aO.length;aM++){if(d(aL,aO[aM])){aN.push(aO[aM])}}return aN}function d(aM,aL){return aM.end>aL.start&&aM.start<aL.end}function ay(aM,aL){return aL.forwardPressure-aM.forwardPressure||(aM.backwardCoord||0)-(aL.backwardCoord||0)||x(aM,aL)}function x(aM,aL){return aM.start-aL.start||(aL.end-aL.start)-(aM.end-aM.start)||(aM.event.title||"").localeCompare(aL.event.title)}function aE(a0,bk,aX){var bj=this;bj.element=a0;bj.calendar=bk;bj.name=aX;bj.opt=a5;bj.trigger=bd;bj.isEventDraggable=aQ;bj.isEventResizable=bp;bj.setEventData=bm;bj.clearEventData=aP;bj.eventEnd=bq;bj.reportEventElement=a3;bj.triggerEventDestroy=bc;bj.eventElementHandlers=bf;bj.showEvents=aS;bj.hideEvents=a4;bj.eventDrop=bn;bj.eventResize=a8;var bs=bj.defaultEventEnd;var be=bk.normalizeEvent;var bo=bk.reportEventChange;var a2={};var aW={};var br=[];var ba=bk.options;function a5(bx,bv){var bw=ba[bx];if(at.isPlainObject(bw)){return F(bw,bv||aX)}return bw}function bd(bv,bw){return bk.trigger.apply(bk,[bv,bw||bj].concat(Array.prototype.slice.call(arguments,2),[bj]))}function aQ(bv){var bw=bv.source||{};return aI(bv.startEditable,bw.startEditable,a5("eventStartEditable"),bv.editable,bw.editable,a5("editable"))&&!a5("disableDragging")}function bp(bv){var bw=bv.source||{};return aI(bv.durationEditable,bw.durationEditable,a5("eventDurationEditable"),bv.editable,bw.editable,a5("editable"))&&!a5("disableResizing")}function bm(bx){a2={};var bw,bv=bx.length,by;for(bw=0;bw<bv;bw++){by=bx[bw];if(a2[by._id]){a2[by._id].push(by)}else{a2[by._id]=[by]}}}function aP(){a2={};aW={};br=[]}function bq(bv){return bv.end?N(bv.end):bs(bv)}function a3(bw,bv){br.push({event:bw,element:bv});if(aW[bw._id]){aW[bw._id].push(bv)}else{aW[bw._id]=[bv]}}function bc(){at.each(br,function(bv,bw){bj.trigger("eventDestroy",bw.event,bw.event,bw.element)})}function bf(bw,bv){bv.click(function(bx){if(!bv.hasClass("ui-draggable-dragging")&&!bv.hasClass("ui-resizable-resizing")){return bd("eventClick",this,bw,bx)}}).hover(function(bx){bd("eventMouseover",this,bw,bx)},function(bx){bd("eventMouseout",this,bw,bx)})}function aS(bw,bv){a1(bw,bv,"show")}function a4(bw,bv){a1(bw,bv,"hide")}function a1(by,bx,bA){var bz=aW[by._id],bw,bv=bz.length;for(bw=0;bw<bv;bw++){if(!bx||bz[bw][0]!=bx[0]){bz[bw][bA]()}}}function bn(by,bw,bx,bz,bC,bB,bA){var bD=bw.allDay;var bv=bw._id;a6(a2[bv],bx,bz,bC);bd("eventDrop",by,bw,bx,bz,bC,function(){a6(a2[bv],-bx,-bz,bD);bo(bv)},bB,bA);bo(bv)}function a8(bB,bz,bw,bv,by,bA){var bx=bz._id;aY(a2[bx],bw,bv);bd("eventResize",bB,bz,bw,bv,function(){aY(a2[bx],-bw,-bv);bo(bx)},by,bA);bo(bx)}function a6(bz,bx,bw,bA){bw=bw||0;for(var bB,bv=bz.length,by=0;by<bv;by++){bB=bz[by];if(bA!==v){bB.allDay=bA}j(aD(bB.start,bx,true),bw);if(bB.end){bB.end=j(aD(bB.end,bx,true),bw)}be(bB,ba)}}function aY(bz,bx,bw){bw=bw||0;for(var bA,bv=bz.length,by=0;by<bv;by++){bA=bz[by];bA.end=j(aD(bq(bA),bx,true),bw);be(bA,ba)}}bj.isHiddenDay=aU;bj.skipHiddenDays=aR;bj.getCellsPerWeek=bh;bj.dateToCell=bl;bj.dateToDayOffset=a9;bj.dayOffsetToCellOffset=aN;bj.cellOffsetToCell=aZ;bj.cellToDate=aO;bj.cellToCellOffset=aL;bj.cellOffsetToDayOffset=bb;bj.dayOffsetToDate=bu;bj.rangeToSegments=bg;var a7=a5("hiddenDays")||[];var aM=[];var bt;var aT=[];var aV=[];var bi=a5("isRTL");(function(){if(a5("weekends")===false){a7.push(0,6)}for(var bw=0,bv=0;bw<7;bw++){aT[bw]=bv;aM[bw]=at.inArray(bw,a7)!=-1;if(!aM[bw]){aV[bv]=bw;bv++}}bt=bv;if(!bt){throw"invalid hiddenDays"}})();function aU(bv){if(typeof bv=="object"){bv=bv.getDay()}return aM[bv]}function bh(){return bt}function aR(bw,bx,bv){bx=bx||1;while(aM[(bw.getDay()+(bv?bx:0)+7)%7]){aD(bw,bx)}}function aO(){var bx=aL.apply(null,arguments);var bv=bb(bx);var bw=bu(bv);return bw}function aL(bA,by){var bx=bj.getColCnt();var bw=bi?-1:1;var bv=bi?bx-1:0;if(typeof bA=="object"){by=bA.col;bA=bA.row}var bz=bA*bx+(by*bw+bv);return bz}function bb(bw){var bv=bj.visStart.getDay();bw+=aT[bv];return Math.floor(bw/bt)*7+aV[(bw%bt+bt)%bt]-bv}function bu(bv){var bw=N(bj.visStart);aD(bw,bv);return bw}function bl(bx){var bw=a9(bx);var by=aN(bw);var bv=aZ(by);return bv}function a9(bv){return aA(bv,bj.visStart)}function aN(bw){var bv=bj.visStart.getDay();bw+=bv;return Math.floor(bw/7)*bt+aT[(bw%7+7)%7]-aT[bv]}function aZ(bA){var by=bj.getColCnt();var bw=bi?-1:1;var bv=bi?by-1:0;var bz=Math.floor(bA/by);var bx=((bA%by+by)%by)*bw+bv;return{row:bz,col:bx}}function bg(bw,bL){var bz=bj.getRowCnt();var bJ=bj.getColCnt();var bK=[];var bN=a9(bw);var bI=a9(bL);var bM=aN(bN);var bA=aN(bI)-1;for(var bB=0;bB<bz;bB++){var bx=bB*bJ;var bF=bx+bJ-1;var bG=Math.max(bM,bx);var by=Math.min(bA,bF);if(bG<=by){var bv=aZ(bG);var bH=aZ(by);var bE=[bv.col,bH.col].sort();var bC=bb(bG)==bN;var bD=bb(by)+1==bI;bK.push({row:bB,leftCol:bE[0],rightCol:bE[1],isStart:bC,isEnd:bD})}}return bK}}function X(){var bs=this;bs.renderDayEvents=bz;bs.draggableDayEvent=a1;bs.resizableDayEvent=bm;var a6=bs.opt;var bj=bs.trigger;var aT=bs.isEventDraggable;var bv=bs.isEventResizable;var bw=bs.eventEnd;var a4=bs.reportEventElement;var bl=bs.eventElementHandlers;var aW=bs.showEvents;var a5=bs.hideEvents;var bu=bs.eventDrop;var ba=bs.eventResize;var bA=bs.getRowCnt;var br=bs.getColCnt;var a8=bs.getColWidth;var a0=bs.allDayRow;var by=bs.colLeft;var a2=bs.colRight;var bq=bs.colContentLeft;var bo=bs.colContentRight;var bt=bs.dateToCell;var aU=bs.getDaySegmentContainer;var a9=bs.calendar.formatDates;var bk=bs.renderDayOverlay;var aX=bs.clearOverlays;var aN=bs.clearSelection;var aS=bs.getHoverListener;var bn=bs.rangeToSegments;var aQ=bs.cellToDate;var aM=bs.cellToCellOffset;var bh=bs.cellOffsetToDayOffset;var bc=bs.dateToDayOffset;var aP=bs.dayOffsetToCellOffset;function bz(bD,bC){var bB=aZ(bD,false,true);ad(bB,function(bF,bE){a4(bF.event,bE)});aY(bB,bC);ad(bB,function(bF,bE){bj("eventAfterRender",bF.event,bF.event,bE)})}function bd(bC,bF,bE){var bB=aZ([bC],true,false);var bD=[];ad(bB,function(bH,bG){if(bH.row===bF){bG.css("top",bE)}bD.push(bG[0])});return bD}function aZ(bE,bI,bG){var bF=aU();var bD=bI?at("<div/>"):bF;var bB=a3(bE);var bC;var bH;bx(bB);bC=bb(bB);bD[0].innerHTML=bC;bH=bD.children();if(bI){bF.append(bH)}aV(bB,bH);ad(bB,function(bK,bJ){bK.hsides=i(bJ,true)});ad(bB,function(bK,bJ){bJ.width(Math.max(0,bK.outerWidth-bK.hsides))});ad(bB,function(bK,bJ){bK.outerHeight=bJ.outerHeight(true)});aR(bB,bG);return bB}function a3(bD){var bB=[];for(var bC=0;bC<bD.length;bC++){var bE=bi(bD[bC]);bB.push.apply(bB,bE)}return bB}function bi(bE){var bB=bE.start;var bF=an(bE);var bC=bn(bB,bF);for(var bD=0;bD<bC.length;bD++){bC[bD].event=bE}return bC}function bx(bC){var bF=a6("isRTL");for(var bE=0;bE<bC.length;bE++){var bG=bC[bE];var bH=(bF?bG.isEnd:bG.isStart)?bq:by;var bB=(bF?bG.isStart:bG.isEnd)?bo:a2;var bI=bH(bG.leftCol);var bD=bB(bG.rightCol);bG.left=bI;bG.outerWidth=bD-bI}}function bb(bB){var bD="";for(var bC=0;bC<bB.length;bC++){bD+=a7(bB[bC])}return bD}function a7(bG){var bE="";var bD=a6("isRTL");var bF=bG.event;var bC=bF.url;var bH=["fc-event","fc-event-hori"];if(aT(bF)){bH.push("fc-event-draggable")}if(bG.isStart){bH.push("fc-event-start")}if(bG.isEnd){bH.push("fc-event-end")}bH=bH.concat(bF.className);if(bF.source){bH=bH.concat(bF.source.className||[])}var bB=Q(bF,a6);if(bC){bE+="<a href='"+aG(bC)+"'"}else{bE+="<div"}bE+=" class='"+bH.join(" ")+"' style='position:absolute;left:"+bG.left+"px;"+bB+"'><div class='fc-event-inner'>";if(!bF.allDay&&bG.isStart){bE+="<span class='fc-event-time'>"+aG(a9(bF.start,bF.end,a6("timeFormat")))+"</span>"}bE+="<span class='fc-event-title'>"+aG(bF.title||"")+"</span></div>";if(bG.isEnd&&bv(bF)){bE+="<div class='ui-resizable-handle ui-resizable-"+(bD?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>"}bE+="</"+(bC?"a":"div")+">";return bE}function aV(bC,bH){for(var bE=0;bE<bC.length;bE++){var bG=bC[bE];var bF=bG.event;var bD=bH.eq(bE);var bB=bj("eventRender",bF,bF,bD);if(bB===false){bD.remove()}else{if(bB&&bB!==true){bB=at(bB).css({position:"absolute",left:bG.left});bD.replaceWith(bB);bD=bB}bG.element=bD}}}function aR(bD,bF){var bG=aL(bD);var bB=bp();var bC=[];if(bF){for(var bE=0;bE<bB.length;bE++){bB[bE].height(bG[bE])}}for(var bE=0;bE<bB.length;bE++){bC.push(bB[bE].position().top)}ad(bD,function(bI,bH){bH.css("top",bC[bI.row]+bI.top)})}function aL(bD){var bF=bA();var bK=br();var bL=[];var bB=bg(bD);for(var bJ=0;bJ<bF;bJ++){var bI=bB[bJ];var bH=[];for(var bG=0;bG<bK;bG++){bH.push(0)}for(var bC=0;bC<bI.length;bC++){var bE=bI[bC];bE.top=ar(bH.slice(bE.leftCol,bE.rightCol+1));for(var bG=bE.leftCol;bG<=bE.rightCol;bG++){bH[bG]=bE.top+bE.outerHeight}}bL.push(ar(bH))}return bL}function bg(bC){var bG=bA();var bF=[];var bB;var bE;var bD;for(bB=0;bB<bC.length;bB++){bE=bC[bB];bD=bE.row;if(bE.element){if(bF[bD]){bF[bD].push(bE)}else{bF[bD]=[bE]}}}for(bD=0;bD<bG;bD++){bF[bD]=aO(bF[bD]||[])}return bF}function aO(bC){var bE=[];var bB=bf(bC);for(var bD=0;bD<bB.length;bD++){bE.push.apply(bE,bB[bD])}return bE}function bf(bD){bD.sort(av);var bC=[];for(var bE=0;bE<bD.length;bE++){var bF=bD[bE];for(var bB=0;bB<bC.length;bB++){if(!b(bF,bC[bB])){break}}if(bC[bB]){bC[bB].push(bF)}else{bC[bB]=[bF]}}return bC}function bp(){var bB;var bD=bA();var bC=[];for(bB=0;bB<bD;bB++){bC[bB]=a0(bB).find("div.fc-day-content > div")}return bC}function aY(bC,bB){var bD=aU();ad(bC,function(bH,bF,bE){var bG=bH.event;if(bG._id===bB){be(bG,bF,bH)}else{bF[0]._fci=bE}});u(bD,bC,be)}function be(bD,bB,bC){if(aT(bD)){bs.draggableDayEvent(bD,bB,bC)}if(bC.isEnd&&bv(bD)){bs.resizableDayEvent(bD,bB,bC)}bl(bD,bB)}function a1(bE,bD){var bC=aS();var bB;bD.draggable({delay:50,opacity:a6("dragOpacity"),revertDuration:a6("dragRevertDuration"),start:function(bF,bG){bj("eventDragStart",bD,bE,bF,bG);a5(bE,bD);bC.start(function(bI,bH,bL,bM){bD.draggable("option","revert",!bI||!bL&&!bM);aX();if(bI){var bK=aQ(bH);var bJ=aQ(bI);bB=aA(bJ,bK);bk(aD(N(bE.start),bB),aD(an(bE),bB))}else{bB=0}},bF,"drag")},stop:function(bF,bG){bC.stop();aX();bj("eventDragStop",bD,bE,bF,bG);if(bB){bu(this,bE,bB,0,bE.allDay,bF,bG)}else{bD.css("filter","");aW(bE,bD)}}})}function bm(bE,bC,bD){var bB=a6("isRTL");var bG=bB?"w":"e";var bF=bC.find(".ui-resizable-"+bG);var bH=false;aK(bC);bC.mousedown(function(bI){bI.preventDefault()}).click(function(bI){if(bH){bI.preventDefault();bI.stopImmediatePropagation()}});bF.mousedown(function(bQ){if(bQ.which!=1){return}bH=true;var bK=aS();var bO=bA();var bR=br();var bJ=bC.css("top");var bM;var bI;var bP=at.extend({},bE);var bL=aP(bc(bE.start));aN();at("body").css("cursor",bG+"-resize").one("mouseup",bN);bj("eventResizeStart",this,bE,bQ);bK.start(function(bT,bS){if(bT){var bW=aM(bS);var bV=aM(bT);bV=Math.max(bV,bL);bM=bh(bV)-bh(bW);if(bM){bP.end=aD(bw(bE),bM,true);var bU=bI;bI=bd(bP,bD.row,bJ);bI=at(bI);bI.find("*").css("cursor",bG+"-resize");if(bU){bU.remove()}a5(bE)}else{if(bI){aW(bE);bI.remove();bI=null}}aX();bk(bE.start,aD(an(bE),bM))}},bQ);function bN(bS){bj("eventResizeStop",this,bE,bS);at("body").css("cursor","");bK.stop();aX();if(bM){ba(this,bE,bM,0,bS)}setTimeout(function(){bH=false},0)}})}}function b(aM,aO){for(var aL=0;aL<aO.length;aL++){var aN=aO[aL];if(aN.leftCol<=aM.rightCol&&aN.rightCol>=aM.leftCol){return true}}return false}function ad(aL,aP){for(var aN=0;aN<aL.length;aN++){var aO=aL[aN];var aM=aO.element;if(aM){aP(aO,aM,aN)}}}function av(aM,aL){return(aL.rightCol-aL.leftCol)-(aM.rightCol-aM.leftCol)||aL.event.allDay-aM.event.allDay||aM.event.start-aL.event.start||(aM.event.title||"").localeCompare(aL.event.title)}function am(){var aV=this;aV.select=aT;aV.unselect=aP;aV.reportSelection=aL;aV.daySelectionMousedown=aS;var aN=aV.opt;var aO=aV.trigger;var aQ=aV.defaultSelectionEnd;var aM=aV.renderSelection;var aU=aV.clearSelection;var aR=false;if(aN("selectable")&&aN("unselectAuto")){at(document).mousedown(function(aW){var aX=aN("unselectCancel");if(aX){if(at(aW.target).parents(aX).length){return}}aP(aW)})}function aT(aW,aY,aX){aP();if(!aY){aY=aQ(aW,aX)}aM(aW,aY,aX);aL(aW,aY,aX)}function aP(aW){if(aR){aR=false;aU();aO("unselect",null,aW)}}function aL(aW,aZ,aY,aX){aR=true;aO("select",null,aW,aZ,aY,aX)}function aS(a0){var aY=aV.cellToDate;var aX=aV.getIsCellAllDay;var aW=aV.getHoverListener();var a1=aV.reportDayClick;if(a0.which==1&&aN("selectable")){aP(a0);var aZ=this;var a2;aW.start(function(a4,a3){aU();if(a4&&aX(a4)){a2=[aY(a3),aY(a4)].sort(a);aM(a2[0],a2[1],true)}else{a2=null}},a0);at(document).one("mouseup",function(a3){aW.stop();if(a2){if(+a2[0]==+a2[1]){a1(a2[0],true,a3)}aL(a2[0],a2[1],true,a3)}})}}}function c(){var aO=this;aO.renderOverlay=aM;aO.clearOverlays=aL;var aN=[];var aP=[];function aM(aR,aQ){var aS=aP.shift();if(!aS){aS=at("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")}if(aS[0].parentNode!=aQ[0]){aS.appendTo(aQ)}aN.push(aS.css(aR).show());return aS}function aL(){var aQ;while(aQ=aN.shift()){aP.push(aQ.hide().unbind())}}}function O(aL){var aM=this;var aN;var aO;aM.build=function(){aN=[];aO=[];aL(aN,aO)};aM.cell=function(aP,aV){var aU=aN.length;var aQ=aO.length;var aR,aS=-1,aT=-1;for(aR=0;aR<aU;aR++){if(aV>=aN[aR][0]&&aV<aN[aR][1]){aS=aR;break}}for(aR=0;aR<aQ;aR++){if(aP>=aO[aR][0]&&aP<aO[aR][1]){aT=aR;break}}return(aS>=0&&aT>=0)?{row:aS,col:aT}:null};aM.rect=function(aS,aU,aQ,aR,aT){var aP=aT.offset();return{top:aN[aS][0]-aP.top,left:aO[aU][0]-aP.left,width:aO[aR][1]-aO[aU][0],height:aN[aQ][1]-aN[aS][0]}}}function ao(aQ){var aO=this;var aP;var aR;var aM;var aL;aO.start=function(aS,aT,aU){aR=aS;aM=aL=null;aQ.build();aN(aT);aP=aU||"mousemove";at(document).bind(aP,aN)};function aN(aS){D(aS);var aT=aQ.cell(aS.pageX,aS.pageY);if(!aT!=!aL||aT&&(aT.row!=aL.row||aT.col!=aL.col)){if(aT){if(!aM){aM=aT}aR(aT,aM,aT.row-aM.row,aT.col-aM.col)}else{aR(aT,aM)}aL=aT}}aO.stop=function(){at(document).unbind(aP,aN);return aL}}function D(aL){if(aL.pageX===v){aL.pageX=aL.originalEvent.pageX;aL.pageY=aL.originalEvent.pageY}}function m(aM){var aL=this,aN={},aQ={},aP={};function aO(aR){return aN[aR]=aN[aR]||aM(aR)}aL.left=function(aR){return aQ[aR]=aQ[aR]===v?aO(aR).position().left:aQ[aR]};aL.right=function(aR){return aP[aR]=aP[aR]===v?aL.left(aR)+aO(aR).width():aP[aR]};aL.clear=function(){aN={};aQ={};aP={}}}})(jQuery);